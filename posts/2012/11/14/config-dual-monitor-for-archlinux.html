<!DOCTYPE html>
<html lang="zh"
>
<head>
    <title>Arch Linux配置双屏 - ggshiney blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://blog.ggshiney.com/posts/2012/11/14/config-dual-monitor-for-archlinux.html">

        <meta name="author" content="ggshiney" />
        <meta name="keywords" content="ArchLinux" />
        <meta name="description" content="前言 实验室设备更新，捡来块有VGA+DVI双接口的Nvdia显卡。自己的老机器用的是集成显卡，便打算给自己的机器升级配置双显示屏。 配置双屏显示 安装新显卡 现在的显卡都是PCI-E接口的了。尽管PCI-E接口的显卡设备即插即用，但是仍需要在BIOS配置一下主显示设备。 顺道科普了一下BIOS中有关显卡的选项： IGD(Integrated Graphic Device): 集成显卡 PCI(Peripheral Component Interconnect): PCI显卡 PEG(PCI Express Graphics): PCI-E显卡 那就选择以PEG为主显示设备。 驱动 我的ArchLinux已经配置了xfce桌面环境，先装个NVIDIA驱动。 ArchLinux中列出所有的PCI设备： lspci 看到硕大的NVIDIA，确认是Nvdia的显卡，接着找找驱动。ArchLinux中的显卡驱动都是以xf86-video开头的。 pacman -Ss xf86-video 发现xf86-video-nouveau是N卡的驱动，安装之。 pacman -S xf86-video-nouveau 配置双屏显示 ..." />

        <meta property="og:site_name" content="ggshiney blog" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Arch Linux配置双屏"/>
        <meta property="og:url" content="http://blog.ggshiney.com/posts/2012/11/14/config-dual-monitor-for-archlinux.html"/>
        <meta property="og:description" content="前言 实验室设备更新，捡来块有VGA+DVI双接口的Nvdia显卡。自己的老机器用的是集成显卡，便打算给自己的机器升级配置双显示屏。 配置双屏显示 安装新显卡 现在的显卡都是PCI-E接口的了。尽管PCI-E接口的显卡设备即插即用，但是仍需要在BIOS配置一下主显示设备。 顺道科普了一下BIOS中有关显卡的选项： IGD(Integrated Graphic Device): 集成显卡 PCI(Peripheral Component Interconnect): PCI显卡 PEG(PCI Express Graphics): PCI-E显卡 那就选择以PEG为主显示设备。 驱动 我的ArchLinux已经配置了xfce桌面环境，先装个NVIDIA驱动。 ArchLinux中列出所有的PCI设备： lspci 看到硕大的NVIDIA，确认是Nvdia的显卡，接着找找驱动。ArchLinux中的显卡驱动都是以xf86-video开头的。 pacman -Ss xf86-video 发现xf86-video-nouveau是N卡的驱动，安装之。 pacman -S xf86-video-nouveau 配置双屏显示 ..."/>
        <meta property="article:published_time" content="2012-11-14" />
            <meta property="article:section" content="Walkthrough" />
            <meta property="article:tag" content="ArchLinux" />
            <meta property="article:author" content="ggshiney" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://blog.ggshiney.com/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://blog.ggshiney.com/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://blog.ggshiney.com/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://blog.ggshiney.com/theme/css/style.css" type="text/css"/>

        <link href="http://blog.ggshiney.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="ggshiney blog ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://blog.ggshiney.com/" class="navbar-brand">
ggshiney blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="http://blog.ggshiney.com/pages/about.html">
                             About
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://blog.ggshiney.com/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://blog.ggshiney.com/posts/2012/11/14/config-dual-monitor-for-archlinux.html"
                       rel="bookmark"
                       title="Permalink to Arch Linux配置双屏">
                        Arch Linux配置双屏
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2012-11-14T20:27:19+08:00"> 三 14 十一月 2012</time>
    </span>



<span class="label label-default">Tags</span>
	<a href="http://blog.ggshiney.com/tag/archlinux.html">ArchLinux</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <h2>前言</h2>
<p>实验室设备更新，捡来块有VGA+DVI双接口的Nvdia显卡。自己的老机器用的是集成显卡，便打算给自己的机器升级配置双显示屏。</p>
<h2>配置双屏显示</h2>
<h3>安装新显卡</h3>
<p>现在的显卡都是PCI-E接口的了。尽管PCI-E接口的显卡设备即插即用，但是仍需要在BIOS配置一下主显示设备。</p>
<p>顺道科普了一下BIOS中有关显卡的选项：</p>
<ul>
<li>IGD(Integrated Graphic Device): 集成显卡</li>
<li>PCI(Peripheral Component Interconnect): PCI显卡</li>
<li>PEG(PCI Express Graphics): PCI-E显卡</li>
</ul>
<p>那就选择以PEG为主显示设备。</p>
<h3>驱动</h3>
<p>我的ArchLinux已经配置了xfce桌面环境，先装个NVIDIA驱动。</p>
<p>ArchLinux中列出所有的PCI设备：</p>
<div class="highlight"><pre>lspci
</pre></div>


<p>看到硕大的NVIDIA，确认是Nvdia的显卡，接着找找驱动。ArchLinux中的显卡驱动都是以<code>xf86-video</code>开头的。</p>
<div class="highlight"><pre>pacman -Ss xf86-video
</pre></div>


<p>发现<code>xf86-video-nouveau</code>是N卡的驱动，安装之。</p>
<div class="highlight"><pre>pacman -S xf86-video-nouveau
</pre></div>


<h3>配置双屏显示</h3>
<p>一切就绪后两个显示器显示相同，如果需要扩展显示桌面，还需要进行一番配置。</p>
<p><code>randr</code>(X Resize, Rotate and Reflect Extension)可以控制桌面的显示输出效果，如镜像、旋转等。<code>xrandr</code>是<code>randr</code>的命令行接口。</p>
<p>首先查看当前显示状态，列出X显示设备：</p>
<div class="highlight"><pre>xrandr -q
</pre></div>


<p>输出如下</p>
<div class="highlight"><pre>Screen 0: minimum 320 x 200, current 2880 x 900, maximum 8192 x 8192
VGA-1 connected 1440x900+1440+0 (normal left inverted right x axis y axis) 408mm x 255mm
   1440x900       59.9*+   75.0  
   1280x1024      75.0     70.0     60.0  
   1280x960       60.0  
   1366x768       60.0  
   1360x768       60.0  
   1280x800       74.9     59.8  
   1152x864       75.0  
   1280x768       74.9     59.9  
   1024x768       75.1     70.1     60.0  
   1024x576       60.0  
   832x624        74.6  
   800x600        72.2     75.0     60.3     56.2  
   848x480        60.0  
   640x480        72.8     75.0     66.7     60.0  
   720x400        70.1  
DVI-I-1 connected 1440x900+0+0 (normal left inverted right x axis y axis) 408mm x 255mm
   1440x900       59.9*+   75.0  
   1280x1024      75.0     70.0     60.0  
   1280x960       60.0  
   1366x768       60.0  
   1360x768       60.0  
   1280x800       74.9     59.8  
   1152x864       75.0  
   1280x768       74.9     59.9  
   1024x768       75.1     70.1     60.0  
   1024x576       60.0  
   832x624        74.6  
   800x600        72.2     75.0     60.3     56.2  
   848x480        60.0  
   640x480        72.8     75.0     66.7     60.0  
   720x400        70.1
</pre></div>


<p>看到我的两个显示器对应着<code>VGA-1</code>和<code>DVI-I-1</code>，接下来设置两个显示器位置</p>
<div class="highlight"><pre>xrandr --output DVI-I-1 --auto --output VGA-1 --auto --right-of DVI-I-1
</pre></div>


<h3>自动启动</h3>
<p>~~可以把这条命令通过 <code>Settings Manager</code> =&gt; <code>Sessioin and Startup</code> =&gt;  <code>Application Autostart</code> 加入到xfce的自动启动列表中。~~</p>
<p>上面加入xfce自动启动列表后在系统重启后出现花屏。</p>
<p>可以把预览好位置的配置加入配置文件<code>/etc/X11/xorg.conf</code>，以实现自动启动。</p>
<div class="highlight"><pre>Section &quot;Monitor&quot;
    Identifier  &quot;VGA-1&quot;
    Option      &quot;Primary&quot; &quot;true&quot;
EndSection

Section &quot;Monitor&quot;
    Identifier  &quot;DVI-I-1&quot;
    Option      &quot;RightOf&quot; &quot;VGA-1&quot;
EndSection
</pre></div>


<h2>参考</h2>
<p><a href="https://wiki.archlinux.org/index.php/DualScreen">https://wiki.archlinux.org/index.php/DualScreen</a></p>
<p><a href="http://ianmarmour.com/2012/01/22/setting-up-dual-monitors-on-xfce-arch-linux/">http://ianmarmour.com/2012/01/22/setting-up-dual-monitors-on-xfce-arch-linux/</a></p>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="http://twitter.com/ggshiney"><i class="fa fa-twitter-square fa-lg"></i> twitter</a></li>
                <li class="list-group-item"><a href="http://github.com/ggshiney"><i class="fa fa-github-square fa-lg"></i> github</a></li>
              </ul>
            </li>



            <li class="list-group-item"><a href="http://blog.ggshiney.com/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group " id="tags">
                </ul>
            </li>
    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://getpelican.com/" target="_blank">
                Pelican
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://python.org/" target="_blank">
                Python.org
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://jinja.pocoo.org/" target="_blank">
                Jinja2
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2015 ggshiney
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://blog.ggshiney.com/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://blog.ggshiney.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://blog.ggshiney.com/theme/js/respond.min.js"></script>


</body>
</html>